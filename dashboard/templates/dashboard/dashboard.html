{% extends "baselayout.html" %}
{% load i18n %}
{% load class_name %}


{% block extracss %}
{{ block.super }}
<link href="//cdnjs.cloudflare.com/ajax/libs/select2/4.0.3/css/select2.min.css" type="text/css" media="screen" rel="stylesheet">
{% endblock %}

{% block content %}

<h1>{% trans "Dashboard" %}</h1>

<div class="row">
    <div class="col-md-3">
        <h3>{% trans "Persons" %}</h3>
        <table class="table">
            <tbody>

                {% if perms.persons.change_person %}
                <tr>
                    <td>
                        <a href="{% url 'persons' %}">Persons</a>
                    </td>
                </tr>
                {% endif %}

                {% if perms.global.view_all %}
                <tr>
                    <td>
                        <a href="{% url 'persons_ranking' %}">Person Ranking</a>
                    </td>
                </tr>
                {% endif %}


                {% if perms.persons.change_personpersonrelation %}
                <tr>
                    <td>
                        <a href="{% url 'personpersonrelations' %}">PersonPersonRelations</a>
                    </td>
                </tr>
                {% endif %}


                {% if perms.persons.change_personpersonrelationtype %}
                <tr>
                    <td>
                        <a href="{% url 'personpersonrelationtypes' %}">PersonPersonRelationTypes</a>
                    </td>
                </tr>
                {% endif %}


                {% if perms.persons.change_personprofession %}
                <tr>
                    <td>
                        <a href="{% url 'personprofessions' %}">PersonProfessions</a>
                    </td>
                </tr>
                {% endif %}


                {% if perms.persons.change_country %}
                <tr>
                    <td>
                        <a href="{% url 'countries' %}">Countries</a>
                    </td>
                </tr>
                {% endif %}


                {% if perms.persons.change_place %}
                <tr>
                    <td>
                        <a href="{% url 'places' %}">Places</a>
                    </td>
                </tr>
                {% endif %}


                {% if perms.persons.change_place %}
                <tr>
                    <td>
                        <a href="{% url 'placelinks' %}">PlaceLinks</a>
                    </td>
                </tr>
                {% endif %}


                {% if perms.persons.change_profession %}
                <tr>
                    <td>
                        <a href="{% url 'professions' %}">Professions</a>
                    </td>
                </tr>
                {% endif %}


                {% if perms.persons.change_religion %}
                <tr>
                    <td>
                        <a href="{% url 'religions' %}">Religions</a>
                    </td>
                </tr>
                {% endif %}


                {% if perms.persons.change_religiousaffiliation %}
                <tr>
                    <td>
                        <a href="{% url 'religiousaffiliations' %}">ReligiousAffiliations</a>
                    </td>
                </tr>
                {% endif %}


                {% if perms.persons.change_residence %}
                <tr>
                    <td>
                        <a href="{% url 'residences' %}">Residences</a>
                    </td>
                </tr>
                {% endif %}

            </tbody>
        </table>

    </div>
    <div class="col-md-3">
        <h3>{% trans "Collections" %}</h3>
        <table class="table">
            <tbody>
                {% if perms.catalogues.change_collection %}
                <tr>
                    <td>
                        <a href="{% url 'collections' %}">Collections</a>
                    </td>
                </tr>
                {% endif %}


                {% if perms.catalogues.change_collectionheldby %}
                <tr>
                    <td>
                        <a href="{% url 'collectionheldbys' %}">CollectionHeldBys</a>
                    </td>
                </tr>
                {% endif %}


                {% if perms.catalogues.change_collectionplacerelation %}
                <tr>
                    <td>
                        <a href="{% url 'collectionplacerelations' %}">CollectionPlaceRelation</a>
                    </td>
                </tr>
                {% endif %}


                {% if perms.catalogues.change_collectionplacerelationtype %}
                <tr>
                    <td>
                        <a href="{% url 'collectionplacerelationtypes' %}">CollectionPlaceRelationType</a>
                    </td>
                </tr>
                {% endif %}


                {% if perms.catalogues.change_collectiontype %}
                <tr>
                    <td>
                        <a href="{% url 'collectiontypes' %}">CollectionTypes</a>
                    </td>
                </tr>
                {% endif %}


                {% if perms.catalogues.change_collectioncollectiontyperelation %}
                <tr>
                    <td>
                        <a href="{% url 'collectioncollectiontyperelations' %}">CollectionCollectionTypeRelation</a>
                    </td>
                </tr>
                {% endif %}


                {% if perms.catalogues.change_category %}
                <tr>
                    <td>
                        <a href="{% url 'categories' %}">Category</a>
                    </td>
                </tr>
                {% endif %}


                {% if perms.catalogues.change_parisiancategory %}
                <tr>
                    <td>
                        <a href="{% url 'parisiancategories' %}">ParisianCategory</a>
                    </td>
                </tr>
                {% endif %}


                {% if perms.catalogues.change_catalogue %}
                <tr>
                    <td>
                        <a href="{% url 'catalogues' %}">Catalogues</a>
                    </td>
                </tr>
                {% endif %}


                {% if perms.catalogues.change_catalogueyear %}
                <tr>
                    <td>
                        <a href="{% url 'catalogueyears' %}">CatalogueYears</a>
                    </td>
                </tr>
                {% endif %}


                {% if perms.catalogues.change_library %}
                <tr>
                    <td>
                        <a href="{% url 'libraries' %}">Libraries</a>
                    </td>
                </tr>
                {% endif %}


                {% if perms.catalogues.change_lot %}
                <tr>
                    <td>
                        <a href="{% url 'lots' %}">Lots</a>
                    </td>
                </tr>
                {% endif %}


                {% if perms.catalogues.change_personcollectionrelation %}
                <tr>
                    <td>
                        <a href="{% url 'personcollectionrelations' %}">PersonCollectionRelations</a>
                    </td>
                </tr>
                {% endif %}


                {% if perms.catalogues.change_personcollectionrelationrole %}
                <tr>
                    <td>
                        <a href="{% url 'personcollectionrelationroles' %}">PersonCollectionRelationRoles</a>
                    </td>
                </tr>
                {% endif %}


                {% if perms.catalogues.change_personcataloguerelation %}
                <tr>
                    <td>
                        <a href="{% url 'personcataloguerelations' %}">PersonCatalogueRelations</a>
                    </td>
                </tr>
                {% endif %}


                {% if perms.transcriptions.change_sourcematerial %}
                <tr>
                    <td>
                        <a href="{% url 'sourcematerials' %}">SourceMaterials</a>
                    </td>
                </tr>
                {% endif %}


                {% if perms.transcriptions.change_shelfmark %}
                <tr>
                    <td>
                        <a href="{% url 'shelfmarks' %}">
                            {{ 'transcriptions__ShelfMark'|get_class_name_plural|capfirst }}
                        </a>
                    </td>
                </tr>
                {% endif %}

            </tbody>
        </table>
    </div>
    <div class="col-md-3">
        <h3>{% trans "Items" %}</h3>
        {% if request.user.is_superuser %}
            <div hx-get="{% url  'get_dashboard_stats' %}" hx-trigger="load">
                <img  alt="Loading..." class="htmx-indicator" width="20" src="/static/img/oval.svg"/>
                {% trans 'Loading...' %}
            </div>
        {% endif %}
        <table class="table">
            <tbody>

                {% if perms.items.change_bookformat %}
                <tr>
                    <td>
                        <a href="{% url 'bookformats' %}">BookFormats</a>
                    </td>
                </tr>
                {% endif %}


                {% if perms.items.change_item %}
                <tr>
                    <td>
                        <a href="{% url 'items' %}">Items</a>
                    </td>
                </tr>
                {% else %}
                <tr>
                    <td>
                        <a href="{% url 'taggeditems' %}">Tagged Items</a>
                    </td>
                </tr>
                {% endif %}


                {% if perms.items.change_itemauthor %}
                <tr>
                    <td>
                        <a href="{% url 'itemauthors' %}">ItemAuthors</a>
                    </td>
                </tr>
                {% endif %}


                {% if perms.items.change_itemitemtyperelation %}
                <tr>
                    <td>
                        <a href="{% url 'itemitemtyperelations' %}">ItemItemTypeRelations</a>
                    </td>
                </tr>
                {% endif %}


                {% if perms.items.change_itemlanguagerelation %}
                <tr>
                    <td>
                        <a href="{% url 'itemlanguagerelations' %}">ItemLanguageRelations</a>
                    </td>
                </tr>
                {% endif %}


                {% if perms.items.change_itemmaterialdetailsrelation %}
                <tr>
                    <td>
                        <a href="{% url 'itemmaterialdetailsrelations' %}">ItemMaterialDetailsRelations</a>
                    </td>
                </tr>
                {% endif %}


                {% if perms.items.change_itemtype %}
                <tr>
                    <td>
                        <a href="{% url 'itemtypes' %}">ItemTypes</a>
                    </td>
                </tr>
                {% endif %}


                {% if perms.items.change_itemworkrelation %}
                <tr>
                    <td>
                        <a href="{% url 'itemworkrelations' %}">ItemWorkRelations</a>
                    </td>
                </tr>
                {% endif %}


                {% if perms.items.change_language %}
                <tr>
                    <td>
                        <a href="{% url 'languages' %}">Languages</a>
                    </td>
                </tr>
                {% endif %}


                {% if perms.items.change_materialdetails %}
                <tr>
                    <td>
                        <a href="{% url 'materialdetails' %}">MaterialDetails</a>
                    </td>
                </tr>
                {% endif %}


                {% if perms.items.change_personitemrelation %}
                <tr>
                    <td>
                        <a href="{% url 'personitemrelations' %}">PersonItemRelations</a>
                    </td>
                </tr>
                {% endif %}


                {% if perms.items.change_personitemrelationrole %}
                <tr>
                    <td>
                        <a href="{% url 'personitemrelationroles' %}">PersonItemRelationRoles</a>
                    </td>
                </tr>
                {% endif %}


                {% if perms.items.change_edition %}
                <tr>
                    <td>
                        <a href="{% url 'editions' %}">Editions</a> - <a href="{% url 'editions_ranking' %}">{% trans "rank by item count" %}</a>
                    </td>
                </tr>
                {% endif %}


                {% if perms.items.change_publisher %}
                <tr>
                    <td>
                        <a href="{% url 'publishers' %}">Publishers</a>
                    </td>
                </tr>
                {% endif %}


                {% if perms.items.change_item %}
                <tr>
                    <td>
                        <a href="{% url 'tags_ranking' %}">Item tags</a>
                    </td>
                </tr>
                {% endif %}
            </tbody>
        </table>
    </div>
    <div class="col-md-3">
        <h3>{% trans "Works" %}</h3>
        <table class="table">
            <tbody>


                {% if perms.items.change_subject %}
                <tr>
                    <td>
                        <a href="{% url 'subjects' %}">Subjects</a>
                    </td>
                </tr>
                {% endif %}


                {% if perms.items.change_work %}
                <tr>
                    <td>
                        <a href="{% url 'works' %}">Works</a>
                    </td>
                </tr>
                {% endif %}


                {% if perms.items.change_workauthor %}
                <tr>
                    <td>
                        <a href="{% url 'workauthors' %}">WorkAuthors</a>
                    </td>
                </tr>
                {% endif %}


                {% if perms.items.change_worksubject %}
                <tr>
                    <td>
                        <a href="{% url 'worksubjects' %}">WorkSubjects</a>
                    </td>
                </tr>
                {% endif %}


                {% if perms.transcriptions.change_documentscan %}
                <tr>
                    <td>
                        <a href="{% url 'documentscans' %}">DocumentScans</a>
                    </td>
                </tr>
                {% endif %}


            </tbody>
        </table>

    </div>
</div>

{% endblock %}



{% block extrajs %}
{{ block.super }}
<script src="/static/js/htmx.min.js" defer></script>
{% endblock %}